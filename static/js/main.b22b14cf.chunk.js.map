{"version":3,"sources":["api/unsplash.js","components/SearchBar.js","components/ImageCard.js","components/ImageList.js","model/NoticeType.js","components/Notice.js","components/App.js","index.js"],"names":["axios","create","baseURL","headers","Authorization","SearchBar","props","state","searchValue","onInputChanged","bind","onFormSubmited","event","this","setState","target","value","preventDefault","onSubmit","className","id","type","onChange","tabIndex","React","Component","ImageCard","postRef","createRef","imageRef","setSpans","gridRows","current","addEventListener","Math","ceil","clientHeight","error","console","log","style","gridRowEnd","ref","src","image","urls","full","key","imageKey","alt_description","ImageList","images","imageList","map","NoticeType","GREEN","RED","BLUE","YELLOW","Notice","message","noticeType","shouldShow","onClick","App","isTimeToShowNotice","viewState","page","onSearchSubmit","goToPrevPage","goToNextPage","unsplash","get","params","query","per_page","request","data","results","length","isEnabled","float","fontSize","prevButton","nextButton","marginTop","notice","showState","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.b22b14cf.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n    baseURL: 'https://api.unsplash.com',\n    headers: {\n        Authorization: 'Client-ID e02654c5e77bd7b37bb0dc004ee1e6ac6dbf32c6773adffe77bf78c2c0a5a239'\n    }\n});","import React from 'react';\nimport  '../style/style.css';\n\nclass SearchBar extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {searchValue: ''}\n        this.onInputChanged = this.onInputChanged.bind(this);\n        this.onFormSubmited = this.onFormSubmited.bind(this);\n    }\n\n    onInputChanged(event){\n        this.setState({searchValue: event.target.value});\n    }\n\n    onFormSubmited(event) {\n        event.preventDefault();\n        this.props.onSubmit(this.state.searchValue);\n    }\n\n    //overright\n    render() {\n        return (\n            <div className=\"ui segment bg-black white-border\">\n                <form className=\"ui form\" onSubmit={this.onFormSubmited}>\n                    <div className=\"field\" id=\"white-color\">\n                        <label className=\"white-color\">Image Search</label>\n                        <input type=\"text\" value={this.state.searchValue} onChange={this.onInputChanged} className=\"dark-input\"/>\n                    </div>\n                    <button type=\"submit\" className=\"ui vertical animated button main-color center-horizontal-relative full-width\" tabIndex=\"0\">\n                        <div className=\"hidden content\" id=\"color-black\">search</div>\n                        <div className=\"visible content\">\n                            <i className=\"search icon\" id=\"color-black\"></i>\n                        </div>\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default SearchBar;","import React from 'react';\n\nclass ImageCard extends React.Component {\n    constructor(props) {\n        super(props);\n        this.postRef = React.createRef();\n        this.imageRef = React.createRef();\n        this.setSpans = this.setSpans.bind(this);\n        this.state = {gridRows: 1};\n    }\n\n    componentDidMount() {\n        this.imageRef.current.addEventListener('load', this.setSpans);\n    }\n\n    setSpans() {\n        try {\n            this.setState({gridRows: Math.ceil(this.postRef.current.clientHeight + 10)});\n        } catch(error) {\n            console.log(error);\n        }\n    }\n\n    render() {\n        return(\n            <div className=\"post-border\" style={{gridRowEnd: `span ${this.state.gridRows}`}}>\n                <div className=\"post\" ref={this.postRef}>\n                    <img className=\"image\" ref={this.imageRef} src={this.props.image.urls.full} key={this.props.imageKey}/>\n                    <span className=\"img-alt\">{this.props.image.alt_description}</span>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ImageCard;","import React from 'react';\nimport ImageCard from './ImageCard';\nimport  '../style/style.css';\n\nclass ImageList extends React.Component {\n    constructor(props) {\n        super(props);\n        let key = -1;\n        const images = props.imageList.map(image => {\n            key++;\n            return <ImageCard image={image} key={key} />;\n        });\n        this.state = {images:  images};\n    }\n\n    render(){\n        return <div className=\"image-list\">{this.state.images}</div>;\n    }\n}\n\nexport default ImageList;","const NoticeType = {\n    GREEN: 'green',\n    RED: 'red',\n    BLUE: 'blue',\n    YELLOW: 'yellow'\n};\n\nexport default NoticeType;","import React from 'react';\nimport NoticeType from '../model/NoticeType';\nimport '../style/style.css';\n\nclass Notice extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {message: props.message, noticeType: props.noticeType, shouldShow: true};\n    }\n\n    render() {\n        if(this.state.shouldShow){\n            return (\n                    <div className={`${this.state.noticeType}-notice notice`}>\n                        <div className=\"notice-message\">{this.state.message}</div>\n                        <div className=\"close-notice\">\n                            <i className=\"close icon\" onClick={event => this.setState({shouldShow: false})}></i>\n                        </div>\n                    </div>\n            );\n        }\n        return (\n            <div className={`${this.state.noticeType}-notice notice hide-notice`}>\n                <div className=\"notice-message\">{this.state.message}</div>\n                <div className=\"close-notice\">\n                    <i className=\"close icon\" onClick={event => this.setState({shouldShow: false})}></i>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Notice;","import React from 'react';\nimport unsplash from '../api/unsplash'\nimport SearchBar from './SearchBar';\nimport ImageList from './ImageList';\nimport Notice from './Notice';\nimport NoticeType from '../model/NoticeType';\nimport  '../style/style.css';\n\nclass App extends React.Component {\n    isTimeToShowNotice= true;\n\n    constructor(props){\n        super();\n        this.state = {searchValue: '', viewState: 'nothing to show', images: [], page: 1};\n        this.onSearchSubmit = this.onSearchSubmit.bind(this);\n        this.goToPrevPage = this.goToPrevPage.bind(this);\n        this.goToNextPage = this.goToNextPage.bind(this);\n    }\n\n    async onSearchSubmit(searchValue) {\n        if(searchValue != this.state.searchValue) {\n            this.setState({page: 1});\n        }\n        this.setState({searchValue: searchValue});\n        this.setState({viewState: 'loading'});\n        const request = await unsplash.get('/search/photos', {\n            params: {\n                query: searchValue,\n                per_page: 20,\n                page: this.state.page\n            },\n        });\n        this.setState({viewState: 'ready' , images: request.data.results});\n        if(request.data.results.length === 0) {\n            this.setState({viewState: 'nothing to show'});\n        }\n    }\n    \n    prevButton() {\n        let isEnabled = this.state.page !== 1;\n        return (\n            <button className={`ui button ${isEnabled?'enabled':'disabled'} page-controller-button animated controller`} style={{float:\"left\"}} onClick={this.goToPrevPage}>\n                <div className=\"hidden content\">prev</div>\n                <div className=\"visible content\">\n                    <i className=\"icon arrow left\"></i>\n                </div>\n            </button>\n        );\n    }\n\n    nextButton() {\n        let isEnabled = this.state.images.length == 20;\n        return (\n            <button className={`ui button ${isEnabled?'enabled':'disabled'} page-controller-button animated`} style={{float: \"right\"}} onClick={this.goToNextPage}>\n                <div className=\"hidden content\">next</div>\n                <div className=\"visible content\">\n                    <i className=\"icon arrow right\"></i>\n                </div>\n            </button>\n        );\n    }\n\n    showState(){\n        if(this.state.viewState === 'loading') {\n            return (\n                    <div className=\"ui active dimmer\">\n                        <div className=\"ui text loader massive\" style={{fontSize: '14px'}}>Loading</div>\n                    </div>\n          );\n        } else if(this.state.viewState === 'nothing to show') {\n            return (\n                <div className=\"center\">\n                    <i style={{fontSize: '20px'}} className=\"close icon loading inverted blue-color\"></i>\n                    <i className=\"bottom right corner blue-color\">nothing to show</i>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <ImageList imageList={this.state.images} />\n                    <div className=\"page-controller ui\">\n                        {this.prevButton()}\n                        <span className=\"page-counter\">current page : {this.state.page}</span>\n                        {this.nextButton()}\n                    </div>\n                </div>\n            );\n        }\n    }\n\n    notice() {\n        if(this.isTimeToShowNotice) {\n            this.isTimeToShowNotice = false;\n            return <Notice message=\"api problem using iran ip\" noticeType={NoticeType.YELLOW}/>\n        }\n    }\n\n    goToNextPage() {\n        this.setState({page: this.state.page + 1});\n        this.onSearchSubmit(this.state.searchValue);\n    }\n\n    goToPrevPage() {\n        this.setState({page: this.state.page - 1});\n        this.onSearchSubmit(this.state.searchValue);\n    }\n\n    render() {\n        return (\n            <div className=\"ui container\" style={{marginTop: '10px'}} id=\"bg-black\">\n                {this.notice()}\n                <SearchBar onSubmit={this.onSearchSubmit}/>\n                {this.showState()}\n            </div>\n        );\n    }\n}\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './style/style.css';\n\nReactDOM.render(<App id=\"bg-black\"/>, document.querySelector('#root'))"],"sourceRoot":""}