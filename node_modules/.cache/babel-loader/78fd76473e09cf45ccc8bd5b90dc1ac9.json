{"ast":null,"code":"import _regeneratorRuntime from\"/home/aria-man/Projects/dinamic-image-shower/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/aria-man/Projects/dinamic-image-shower/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/aria-man/Projects/dinamic-image-shower/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/aria-man/Projects/dinamic-image-shower/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/aria-man/Projects/dinamic-image-shower/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/aria-man/Projects/dinamic-image-shower/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/aria-man/Projects/dinamic-image-shower/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import unsplash from'../api/unsplash';import SearchBar from'./SearchBar';import ImageList from'./ImageList';import Notice from'./Notice';import NoticeType from'../model/NoticeType';import'../style/style.css';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));_this.isTimeToShowNotice=true;_this.state={searchValue:'',viewState:'nothing to show',images:[],page:1};_this.onSearchSubmit=_this.onSearchSubmit.bind(_assertThisInitialized(_this));_this.goToPrevPage=_this.goToPrevPage.bind(_assertThisInitialized(_this));_this.goToNextPage=_this.goToNextPage.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"onSearchSubmit\",value:function onSearchSubmit(searchValue){var request;return _regeneratorRuntime.async(function onSearchSubmit$(_context){while(1){switch(_context.prev=_context.next){case 0:if(searchValue!=this.state.searchValue){this.setState({page:1});}this.setState({searchValue:searchValue});this.setState({viewState:'loading'});_context.next=5;return _regeneratorRuntime.awrap(unsplash.get('/search/photos',{params:{query:searchValue,per_page:20,page:this.state.page}}));case 5:request=_context.sent;this.setState({viewState:'ready',images:request.data.results});if(request.data.results.length===0){this.setState({viewState:'nothing to show'});}case 8:case\"end\":return _context.stop();}}},null,this);}},{key:\"prevButton\",value:function prevButton(){var isEnabled=this.state.page!==1;return React.createElement(\"button\",{className:\"ui button \".concat(isEnabled?'enabled':'disabled',\" page-controller-button animated controller\"),style:{float:\"left\"},onClick:this.goToPrevPage},React.createElement(\"div\",{className:\"hidden content\"},\"prev\"),React.createElement(\"div\",{className:\"visible content\"},React.createElement(\"i\",{className:\"icon arrow left\"})));}},{key:\"nextButton\",value:function nextButton(){var isEnabled=this.state.images.length==20;return React.createElement(\"button\",{className:\"ui button \".concat(isEnabled?'enabled':'disabled',\" page-controller-button animated\"),style:{float:\"right\"},onClick:this.goToNextPage},React.createElement(\"div\",{className:\"hidden content\"},\"next\"),React.createElement(\"div\",{className:\"visible content\"},React.createElement(\"i\",{className:\"icon arrow right\"})));}},{key:\"showState\",value:function showState(){if(this.state.viewState==='loading'){return React.createElement(\"div\",{className:\"ui active dimmer\"},React.createElement(\"div\",{className:\"ui text loader massive\",style:{fontSize:'14px'}},\"Loading\"));}else if(this.state.viewState==='nothing to show'){return React.createElement(\"div\",{className:\"center\"},React.createElement(\"i\",{style:{fontSize:'20px'},className:\"close icon loading inverted blue-color\"}),React.createElement(\"i\",{className:\"bottom right corner blue-color\"},\"nothing to show\"));}else{return React.createElement(\"div\",null,React.createElement(ImageList,{imageList:this.state.images}),React.createElement(\"div\",{className:\"page-controller ui\"},this.prevButton(),React.createElement(\"span\",{className:\"page-counter\"},\"current page : \",this.state.page),this.nextButton()));}}},{key:\"notice\",value:function notice(){if(this.isTimeToShowNotice){this.isTimeToShowNotice=false;return React.createElement(Notice,{message:\"api problem using iran ip\",noticeType:NoticeType.YELLOW});}}},{key:\"goToNextPage\",value:function goToNextPage(){this.setState({page:this.state.page+1});this.onSearchSubmit(this.state.searchValue);}},{key:\"goToPrevPage\",value:function goToPrevPage(){this.setState({page:this.state.page-1});this.onSearchSubmit(this.state.searchValue);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"ui container\",style:{marginTop:'10px'},id:\"bg-black\"},this.notice(),React.createElement(SearchBar,{onSubmit:this.onSearchSubmit}),this.showState());}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/aria-man/Projects/dinamic-image-shower/src/components/App.js"],"names":["React","unsplash","SearchBar","ImageList","Notice","NoticeType","App","props","isTimeToShowNotice","state","searchValue","viewState","images","page","onSearchSubmit","bind","goToPrevPage","goToNextPage","setState","get","params","query","per_page","request","data","results","length","isEnabled","float","fontSize","prevButton","nextButton","YELLOW","marginTop","notice","showState","Component"],"mappings":"84BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAQ,oBAAR,C,GAEMC,CAAAA,G,yEAGF,aAAYC,KAAZ,CAAkB,qCACd,uEADc,MAFlBC,kBAEkB,CAFE,IAEF,CAEd,MAAKC,KAAL,CAAa,CAACC,WAAW,CAAE,EAAd,CAAkBC,SAAS,CAAE,iBAA7B,CAAgDC,MAAM,CAAE,EAAxD,CAA4DC,IAAI,CAAE,CAAlE,CAAb,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CACA,MAAKE,YAAL,CAAoB,MAAKA,YAAL,CAAkBF,IAAlB,+BAApB,CALc,aAMjB,C,sEAEoBL,W,sIACjB,GAAGA,WAAW,EAAI,KAAKD,KAAL,CAAWC,WAA7B,CAA0C,CACtC,KAAKQ,QAAL,CAAc,CAACL,IAAI,CAAE,CAAP,CAAd,EACH,CACD,KAAKK,QAAL,CAAc,CAACR,WAAW,CAAEA,WAAd,CAAd,EACA,KAAKQ,QAAL,CAAc,CAACP,SAAS,CAAE,SAAZ,CAAd,E,iDACsBV,QAAQ,CAACkB,GAAT,CAAa,gBAAb,CAA+B,CACjDC,MAAM,CAAE,CACJC,KAAK,CAAEX,WADH,CAEJY,QAAQ,CAAE,EAFN,CAGJT,IAAI,CAAE,KAAKJ,KAAL,CAAWI,IAHb,CADyC,CAA/B,C,SAAhBU,O,eAON,KAAKL,QAAL,CAAc,CAACP,SAAS,CAAE,OAAZ,CAAsBC,MAAM,CAAEW,OAAO,CAACC,IAAR,CAAaC,OAA3C,CAAd,EACA,GAAGF,OAAO,CAACC,IAAR,CAAaC,OAAb,CAAqBC,MAArB,GAAgC,CAAnC,CAAsC,CAClC,KAAKR,QAAL,CAAc,CAACP,SAAS,CAAE,iBAAZ,CAAd,EACH,C,uGAGQ,CACT,GAAIgB,CAAAA,SAAS,CAAG,KAAKlB,KAAL,CAAWI,IAAX,GAAoB,CAApC,CACA,MACI,+BAAQ,SAAS,qBAAec,SAAS,CAAC,SAAD,CAAW,UAAnC,+CAAjB,CAA6G,KAAK,CAAE,CAACC,KAAK,CAAC,MAAP,CAApH,CAAoI,OAAO,CAAE,KAAKZ,YAAlJ,EACI,2BAAK,SAAS,CAAC,gBAAf,SADJ,CAEI,2BAAK,SAAS,CAAC,iBAAf,EACI,yBAAG,SAAS,CAAC,iBAAb,EADJ,CAFJ,CADJ,CAQH,C,+CAEY,CACT,GAAIW,CAAAA,SAAS,CAAG,KAAKlB,KAAL,CAAWG,MAAX,CAAkBc,MAAlB,EAA4B,EAA5C,CACA,MACI,+BAAQ,SAAS,qBAAeC,SAAS,CAAC,SAAD,CAAW,UAAnC,oCAAjB,CAAkG,KAAK,CAAE,CAACC,KAAK,CAAE,OAAR,CAAzG,CAA2H,OAAO,CAAE,KAAKX,YAAzI,EACI,2BAAK,SAAS,CAAC,gBAAf,SADJ,CAEI,2BAAK,SAAS,CAAC,iBAAf,EACI,yBAAG,SAAS,CAAC,kBAAb,EADJ,CAFJ,CADJ,CAQH,C,6CAEU,CACP,GAAG,KAAKR,KAAL,CAAWE,SAAX,GAAyB,SAA5B,CAAuC,CACnC,MACQ,4BAAK,SAAS,CAAC,kBAAf,EACI,2BAAK,SAAS,CAAC,wBAAf,CAAwC,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAX,CAA/C,YADJ,CADR,CAKH,CAND,IAMO,IAAG,KAAKpB,KAAL,CAAWE,SAAX,GAAyB,iBAA5B,CAA+C,CAClD,MACI,4BAAK,SAAS,CAAC,QAAf,EACI,yBAAG,KAAK,CAAE,CAACkB,QAAQ,CAAE,MAAX,CAAV,CAA8B,SAAS,CAAC,wCAAxC,EADJ,CAEI,yBAAG,SAAS,CAAC,gCAAb,oBAFJ,CADJ,CAMH,CAPM,IAOA,CACH,MACI,gCACI,oBAAC,SAAD,EAAW,SAAS,CAAE,KAAKpB,KAAL,CAAWG,MAAjC,EADJ,CAEI,2BAAK,SAAS,CAAC,oBAAf,EACK,KAAKkB,UAAL,EADL,CAEI,4BAAM,SAAS,CAAC,cAAhB,oBAA+C,KAAKrB,KAAL,CAAWI,IAA1D,CAFJ,CAGK,KAAKkB,UAAL,EAHL,CAFJ,CADJ,CAUH,CACJ,C,uCAEQ,CACL,GAAG,KAAKvB,kBAAR,CAA4B,CACxB,KAAKA,kBAAL,CAA0B,KAA1B,CACA,MAAO,qBAAC,MAAD,EAAQ,OAAO,CAAC,2BAAhB,CAA4C,UAAU,CAAEH,UAAU,CAAC2B,MAAnE,EAAP,CACH,CACJ,C,mDAEc,CACX,KAAKd,QAAL,CAAc,CAACL,IAAI,CAAE,KAAKJ,KAAL,CAAWI,IAAX,CAAkB,CAAzB,CAAd,EACA,KAAKC,cAAL,CAAoB,KAAKL,KAAL,CAAWC,WAA/B,EACH,C,mDAEc,CACX,KAAKQ,QAAL,CAAc,CAACL,IAAI,CAAE,KAAKJ,KAAL,CAAWI,IAAX,CAAkB,CAAzB,CAAd,EACA,KAAKC,cAAL,CAAoB,KAAKL,KAAL,CAAWC,WAA/B,EACH,C,uCAEQ,CACL,MACI,4BAAK,SAAS,CAAC,cAAf,CAA8B,KAAK,CAAE,CAACuB,SAAS,CAAE,MAAZ,CAArC,CAA0D,EAAE,CAAC,UAA7D,EACK,KAAKC,MAAL,EADL,CAEI,oBAAC,SAAD,EAAW,QAAQ,CAAE,KAAKpB,cAA1B,EAFJ,CAGK,KAAKqB,SAAL,EAHL,CADJ,CAOH,C,iBA3GanC,KAAK,CAACoC,S,EA+GxB,cAAe9B,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport unsplash from '../api/unsplash'\nimport SearchBar from './SearchBar';\nimport ImageList from './ImageList';\nimport Notice from './Notice';\nimport NoticeType from '../model/NoticeType';\nimport  '../style/style.css';\n\nclass App extends React.Component {\n    isTimeToShowNotice= true;\n\n    constructor(props){\n        super();\n        this.state = {searchValue: '', viewState: 'nothing to show', images: [], page: 1};\n        this.onSearchSubmit = this.onSearchSubmit.bind(this);\n        this.goToPrevPage = this.goToPrevPage.bind(this);\n        this.goToNextPage = this.goToNextPage.bind(this);\n    }\n\n    async onSearchSubmit(searchValue) {\n        if(searchValue != this.state.searchValue) {\n            this.setState({page: 1});\n        }\n        this.setState({searchValue: searchValue});\n        this.setState({viewState: 'loading'});\n        const request = await unsplash.get('/search/photos', {\n            params: {\n                query: searchValue,\n                per_page: 20,\n                page: this.state.page\n            },\n        });\n        this.setState({viewState: 'ready' , images: request.data.results});\n        if(request.data.results.length === 0) {\n            this.setState({viewState: 'nothing to show'});\n        }\n    }\n    \n    prevButton() {\n        let isEnabled = this.state.page !== 1;\n        return (\n            <button className={`ui button ${isEnabled?'enabled':'disabled'} page-controller-button animated controller`} style={{float:\"left\"}} onClick={this.goToPrevPage}>\n                <div className=\"hidden content\">prev</div>\n                <div className=\"visible content\">\n                    <i className=\"icon arrow left\"></i>\n                </div>\n            </button>\n        );\n    }\n\n    nextButton() {\n        let isEnabled = this.state.images.length == 20;\n        return (\n            <button className={`ui button ${isEnabled?'enabled':'disabled'} page-controller-button animated`} style={{float: \"right\"}} onClick={this.goToNextPage}>\n                <div className=\"hidden content\">next</div>\n                <div className=\"visible content\">\n                    <i className=\"icon arrow right\"></i>\n                </div>\n            </button>\n        );\n    }\n\n    showState(){\n        if(this.state.viewState === 'loading') {\n            return (\n                    <div className=\"ui active dimmer\">\n                        <div className=\"ui text loader massive\" style={{fontSize: '14px'}}>Loading</div>\n                    </div>\n          );\n        } else if(this.state.viewState === 'nothing to show') {\n            return (\n                <div className=\"center\">\n                    <i style={{fontSize: '20px'}} className=\"close icon loading inverted blue-color\"></i>\n                    <i className=\"bottom right corner blue-color\">nothing to show</i>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <ImageList imageList={this.state.images} />\n                    <div className=\"page-controller ui\">\n                        {this.prevButton()}\n                        <span className=\"page-counter\">current page : {this.state.page}</span>\n                        {this.nextButton()}\n                    </div>\n                </div>\n            );\n        }\n    }\n\n    notice() {\n        if(this.isTimeToShowNotice) {\n            this.isTimeToShowNotice = false;\n            return <Notice message=\"api problem using iran ip\" noticeType={NoticeType.YELLOW}/>\n        }\n    }\n\n    goToNextPage() {\n        this.setState({page: this.state.page + 1});\n        this.onSearchSubmit(this.state.searchValue);\n    }\n\n    goToPrevPage() {\n        this.setState({page: this.state.page - 1});\n        this.onSearchSubmit(this.state.searchValue);\n    }\n\n    render() {\n        return (\n            <div className=\"ui container\" style={{marginTop: '10px'}} id=\"bg-black\">\n                {this.notice()}\n                <SearchBar onSubmit={this.onSearchSubmit}/>\n                {this.showState()}\n            </div>\n        );\n    }\n}\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}